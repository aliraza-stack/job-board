<nav class="bg-white fixed w-full z-50">
  <div class="flex flex-wrap items-center justify-between mx-auto px-8 border-b border-gray-200">
    <a href="/" class="flex items-center space-x-3">
      <%#= image_tag "dark-logo.svg", class: "w-auto h-3" %>
      <h1 class="text-lg font-bold">Rynexis.</h1>
    </a>

    <div data-controller="dropdowns" class="relative flex items-center md:order-2 space-x-3 md:space-x-0 gap-2">
      <button data-action="dropdowns#toggle click@window->dropdowns#hide" data-collapse-toggle="navbar-user" type="button" class="inline-flex items-center p-3 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200" aria-controls="navbar-user" aria-expanded="false">
        <span class="sr-only">Open main menu</span>
        <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 17 14"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 1h15M1 7h15M1 13h15"/></svg>
      </button>
      <%= link_to "Log In", new_user_session_path, class: "hidden lg:block lg:inline-flex items-center justify-center px-3 py-1 border my-2 text-base transition-all duration-200 hover:bg-gray-200 hover:text-black focus:text-black focus:bg-gray-200 text-xs font-semibold text-black rounded-md" %>
      <%= link_to "Sign Up", new_user_registration_path, class: "hidden lg:block lg:inline-flex items-center justify-center px-3 py-1 border my-2 text-base transition-all duration-200 hover:bg-gray-200 hover:text-black focus:text-black focus:bg-gray-200 text-xs font-semibold text-white bg-black rounded-md"%>

      <%# if user_signed_in? %>
<!--        <button type="button" class="flex text-sm bg-gray-200 pr-6 pl-3 py-1 gap-4 items-center rounded-full md:me-0 focus:ring-4 focus:ring-gray-300 hover:ring-base-300" id="user-menu-button" aria-expanded="false" data-action="click->dropdowns#toggle">-->
<!--          <span class="sr-only">Open user menu</span>-->
          <%# if current_user.avatar.attached? %>
            <%#= image_tag current_user.avatar.variant(resize_to_fill: [160, 160]), class: "w-8 h-8 rounded-full", alt: current_user.role %>
          <%# else %>
            <%#= image_tag "default.avif", class: "w-8 h-8 rounded-full", alt: "default" %>
          <%# end %>
            <%#= full_name %>
<!--        </button>-->
      <%# else %>
          <%#= link_to "Log In", new_user_session_path, class: "lg:inline-flex items-center justify-center px-3 py-1 border my-1 text-base transition-all duration-200 hover:bg-gray-200 hover:text-black focus:text-black focus:bg-gray-200 text-xs font-semibold text-black rounded-md" %>
          <%#= link_to "Sign Up", new_user_registration_path, class: "lg:inline-flex items-center justify-center px-3 py-1 border my-1 text-base transition-all duration-200 hover:bg-gray-200 hover:text-black focus:text-black focus:bg-gray-200 text-xs font-semibold text-white bg-black rounded-md"%>
          <%# if current_page?(new_user_registration_path) %>
          <%# else %>
          <%# end %>
      <%# end %>
      <!-- Dropdown menu -->
      <div
        class="transition transform origin-top-right absolute min-w-56 right-0 top-7 z-50 hidden my-4 text-base list-none bg-white divide-y divide-gray-100 rounded-lg shadow" id="user-dropdown"
        data-dropdowns-target="menu"
        data-action="click@window->dropdowns#hide"
        data-transition-enter-from="opacity-0 scale-95"
        data-transition-enter-to="opacity-100 scale-100"
        data-transition-leave-from="opacity-100 scale-100"
        data-transition-leave-to="opacity-0 scale-95"
      >
<!--        <ul class="" aria-labelledby="user-menu-button">-->
<!--          <li>-->
            <%#= link_to "Profile", edit_user_registration_path + "?tab=profile", "data-action": "dropdowns#toggle", class: "block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" %>
            <%#= link_to "Account Settings", edit_user_registration_path + "?tab=accounts", "data-action": "dropdowns#toggle", class: "block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" %>
            <%#= link_to "Notifications", edit_user_registration_path + "?tab=notifications", "data-action": "dropdowns#toggle", class: "block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" %>
<!--          </li>-->
<!--          <hr class="border-gray-100">-->
<!--          <li>-->
            <%#= link_to "Log Out", destroy_user_session_path, method: :delete, data: { "turbo-method": :delete }, class: "block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100", role: "button", "data-action": "dropdowns#toggle" %>
<!--          </li>-->
<!--        </ul>-->
      </div>

    </div>
  </div>
</nav>
